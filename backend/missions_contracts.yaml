m1:
  verification_type: evidence
  deliverables:
    - type: file_exists
      path: "docs/m1_vscode_ok.txt"
      feedback_fail: "No encontré tu archivo 'm1_vscode_ok.txt' en la carpeta 'docs'."
    - type: file_contains
      path: "docs/m1_workspace_ok.txt"
      content: "workspace: C:\\MinecraftShop\\minecraft_shop_project"
      feedback_fail: "El archivo 'm1_workspace_ok.txt' no contiene la línea exacta requerida."
    - type: file_exists
      path: "docs/m1_notes.md"
      feedback_fail: "No encontré tus notas de investigación m1."

m2:
  verification_type: evidence
  deliverables:
    - type: file_exists
      path: "docs/m2_python_version.txt"
      feedback_fail: "No encontré tu archivo 'm2_python_version.txt'."
    - type: file_contains
      path: "docs/m2_python_version.txt"
      content: "Python"
      feedback_fail: "El archivo 'm2_python_version.txt' no contiene la palabra 'Python'."
    - type: file_exists
      path: "docs/m2_hello.txt"
      feedback_fail: "No encontré tu archivo 'm2_hello.txt'."
    - type: file_exists
      path: "docs/m2_notes.md"
      feedback_fail: "No encontré tus notas de investigación m2."

m3:
  verification_type: script_output
  script_path: "scripts/m3_explorer.py"
  feedback_script_missing: "No encontré tu script principal de la misión 3 ({script_path}). Revisa que exista en {source}."
  feedback_required_file_missing: "Falta el archivo necesario {required_path} para ejecutar la validación ({source})."
  required_files:
    - "sources/orders_seed.csv"
  deliverables:
    - type: file_exists
      path: "docs/m3_csv_notes.md"
      feedback_fail: "No encontré tus notas sobre CSV para la misión 3 (m3_csv_notes.md)."
    - type: file_exists
      path: "docs/m3_practice_output.txt"
      feedback_fail: "No encontré el archivo con los resultados de tu práctica (m3_practice_output.txt)."
    - type: file_exists
      path: "scripts/m3_explorer.py"
      feedback_fail: "No encontré tu script explorador de la misión 3 (m3_explorer.py)."
    - type: file_contains
      path: "scripts/m3_explorer.py"
      content: "df.shape"
      feedback_fail: "Tu script debe obtener el tamaño del DataFrame usando df.shape."
    - type: file_contains
      path: "scripts/m3_explorer.py"
      content: "df.columns.tolist()"
      feedback_fail: "Tu script debe listar las columnas usando df.columns.tolist()."
  validations:
    - type: dataframe_output
      shape: [3, 7]
      columns:
        - order_id
        - customer_id
        - product_id
        - order_date
        - status
        - quantity
        - unit_price
      head: |
           order_id customer_id product_id  order_date     status  quantity  unit_price
        0      1001        C001       P001  2024-01-05    Shipped         2       19.99
        1      1002        C002       P003  2024-01-06    Pending         1       49.50
        2      1003        C001       P002  2024-01-08  Cancelled         3       12.00
      dtypes:
        order_id: int64
        customer_id: object
        product_id: object
        order_date: object
        status: object
        quantity: int64
        unit_price: float64

m4:
  verification_type: evidence
  deliverables:
    - type: file_exists
      path: "reports/m4_preview.txt"
      feedback_fail: "No encontré el archivo de preview de Bronze (m4_preview.txt)."
    - type: file_exists
      path: "reports/m4_verify.txt"
      feedback_fail: "No encontré tu archivo de verificación m4 (m4_verify.txt)."

m5:
  verification_type: llm_evaluation
  deliverable_path: "docs/m5_notes.md"
  expected_keywords:
    - "limpieza"
    - "tipos"
    - "duplicados"
  feedback_fail: "La evaluación automática de tus notas indica que necesitan más detalle o claridad en limpieza, tipos y duplicados."

m6v:
  verification_type: evidence
  deliverables:
    - type: file_exists
      path: "data/gold/ventas_por_dia.csv"
      feedback_fail: "No encontré tu archivo 'ventas_por_dia.csv' en data/gold."
    - type: file_exists
      path: "data/gold/top_productos.csv"
      feedback_fail: "No encontré tu archivo 'top_productos.csv' en data/gold."
    - type: file_exists
      path: "data/gold/ventas_por_ciudad.csv"
      feedback_fail: "No encontré tu archivo 'ventas_por_ciudad.csv' en data/gold."

m6o:
  verification_type: evidence
  deliverables:
    - type: file_exists
      path: "data/gold/envios_por_ciudad.csv"
      feedback_fail: "No encontré tu archivo 'envios_por_ciudad.csv' en data/gold."
    - type: file_exists
      path: "data/gold/envios_por_dia.csv"
      feedback_fail: "No encontré tu archivo 'envios_por_dia.csv' en data/gold."
    - type: file_exists
      path: "data/gold/backlog_por_dia.csv"
      feedback_fail: "No encontré tu archivo 'backlog_por_dia.csv' en data/gold."

m7:
  verification_type: evidence
  deliverables:
    - type: file_exists
      path: "reports/BlockCorp.pbix"
      feedback_fail: "No encontré tu informe de Power BI (BlockCorp.pbix)."